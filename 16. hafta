///////////////////////////////////////////////////////1. ders/////////////////////////////////////////

NULL pointer ne işe yarıyor ?

adres döndüren fonksiyonlar
---------------------------

başarılı veya başarıs olma durumuna göre NULL pointer döndüren fonksiyonlar :
-FILE * fopen(...)
-void * malloc
-char * setlocal

int main(void) //NULL pointer en çok kullanıldığı yer
{
FILE * fopen("bilgin.txt", "r");
if (f == NULL) //!f yazılabilinir{ 
fprintf(stderr, "cannot open file!\n");
return 1;
}
printf("file opened!\n");
}

------

arama fonksiyonları :

search fonksiyonu genelde adres döndürür eğer yok ise o değer NULL pointer döndürür

NULL döndüren arama fonksiyonları :

strchr
strrchr
strstr
strpbrk
memchr
bsearch

int main(void)
{
char size [SIZE]

printf("BİR YAZİ GİRİN : ");
sgets(str);

char * p = strchr(str, 'a');
if (!p) {
printf("yazida a karakteri yok\n");
}
else {
printf("bulundu %d indisli karakter\n", p - str);
}
}

---------

aşağıda belirtilen fonksiyonu tanımlayınız 

eğer aranan değer dizide var ise onun adresini döndürücek
eğer aranan değer dizide yok ise NULL pointer döndürücek

int * search_in_array(const int * p, int size, int key){
for (int i = 0; i < size; ++i){
if (p[i] == key)
return (int*)p + i//&p[i]
}
return NULL;
}


int main(void)
{
int a[SIZE];

randomize();
set_array_random(a, SIZE);
print_array(a, SIZE);

int ival;
printf("aranacak degeri giriniz: ");
(void)scanf("%d", &ival);

int * p = search_in_array(a, SIZE, ival);
if (p != NULL){
printf("bulundu... %d dizisinin % indisli elemani\n", *p, p - a);
*p = -1;
print_array(a , SIZE);
}
else{
printf("aranan deger bulunamadi\n");
}
}

!! bir değişkenin tipi void olamaz void x
!! bir diznin elemanlarının türü void türü olamaz
!! bir ifadenin türü void olabilir
türü void olan ifadeler :

void baz(int);

int main(void)
{
if (baz(12)) //geri dönüş türü void olan ifade kontrolde kullanılamaz
}


!! bir ifadenin türünü void türüne çevirebilirz

int main(void)
{
(void)foo(12); //bilerek discard edilirse kullanılır
}


------------------

int main(void)
{

}

!! öyle fonksiyonlar var ki pointer paramtere değişkenşne çağıran kodun NULL pointer geçmesi
opsiyon olarak sunuyor

-fonksiyon konuşuyor :
bana nesne adresi geçersen bu işi yaparım
bana NULL pointer geçersen şu işi yaparım

!! pointer paramtereye gelen NULL pointerı belgele 


a) bir fonksiyonun geri dönüş değeri adres ise NULL pointer döndürme ihtimali var mı diye bak

b) eğer NULL pointer geçersem hata verir mi diye konrol et


------------------------------

NULL dangling pointerda kullanılır:

Pointer dangling hale geldiğinde NULL pointer yapılır

-------------------------------

int main(void)
{
int * ptr = NULL;

if (expr) {
ptr = nesne adresi
}
if (ptr)
}

======================================================

sum_array(const int * p, size_t size); //int yerine size_t kullan
 
get_mean(const int * p, size_t size); //int yerine size_t kullan

======================================================

C dilinde yazılar üzerinde işlem yapan fonksiyonlar :

!! aldığı adresteki yazıyı değiştirmek istemiyorsa aşağıdaki şekilde olmalı dizi boyu
int is_palindrom(const char * p)

//aldığı adresteki yazıyı std. çıkış akımına yazdıran 
sputs isimli bir fonksiyon tanımlayınız

----------

void sputs(const char * p)
{
for (int i = 0; p[i] != '\0'; ++i)
putchar(p[i]);
}
putchar('\n');
}

//2 şekilde yazılabilinir

void sputs(const char * p)
{
while (*p)
putchar(*p++);
putchar('\n');
}

int main(void)
{
char str[SIZE] = "bugun gunlerden pazar"
sputs(str);
}

--------

int str_count(const char * p, int x)
{
int cnt = 0;

while (*p){
if (*p == x)
++cnt;

++p;
}
return cnt
}

int main(void)
{
char str[SIZE] = "deneme bugra dene";
printf("%d\n", str_count(str, 'u'));
}

----------------------------------------

#include <string.h>

strlen : yazının uzunluğunu döndürür
strchr :  karakter arama
strstr :  yazının uzunluğunu döndürür
strpbrk : arama fonksiyonu
strcpy : yazı kopyalaama
strcat : yazı sona başka yazı ekleme  
strcmp : yazı karşılaştırma
strncpy : kopyalama
strncat : yakalama
strncpm : ko
strtok : yazıyı tokenız eden
strerror :  hata ile ilgili
strspn : ilk kaç karakter belilir karekterlerden oluşur
strcspn : ilk kaç karakter belilir karekterlerden oluşur

--------

strlen :

int main(void)
{
char str[SIZE];

printf("bir yazi girin: ");
sgets(str);

size_t len = strlen(str);
printf("uzunluk = %zu\n", len);
}

---------

int main(void)
{
char str[SIZE];

printf("bir yazi girin: ");
sgets(str);

size_t len = strlen(str);
for (size_t i = 0; i < len; ++i){
puts(str + i);
}
}

-------

strlen fonksiyonuun yazılması :

size_t strlen_1(const char * p)
{
size_t len = 0;

while (*p != '\0'){
++len;
++p;
}
return len;
}

size_t strlen_3(const char * p) //bu şekilde yazılabilinir
{
const char * ptemp = p;

while (*p)
++p;
return (size_t)(p - ptemp);
}

int main(void){
printf("bir yazi girin: ");
sgets(str);
size_t len = strlen(str);
printf("uzunluk = %zu\n",len);
}

------
strchr : karakteri bulur

char * strchr(const char * str, int ch);

char str[SIZE];

printf("bir yazi girin: ");
sgets(str);
printf("girilne yazi :%s\n", str);
int ch;
printf("aranan karakteri girin: ");
ch = getchar();

char * p = strchr(str, ch);
if (p != NULL){
printf("bulundu" %s\n", p);
printf("yazinin %d indisli karakteri\n", p - str);
*p = '!';
printf("girilen yazi: %s\n",str);
}
else{
printf("bulunamadı\n");
}
}

--------

strchr fonksiyonun yazılması

char * strchr(const char * p, int c)
{
for (int i = 0; p[i] != '\0'; ++i){
if (p[i] == c)
return (char *)(p + i);
}

if (c == '\0')
return (char *)(p + i);

return NULL;
}

--------
strrchr : aranan karakteri yazıda sondan bulur

char * strrchr(const char * p, int ch)

int main(void)
{
char str[];

printf("bir yazi girin : ");
sgets(str);
printf("girilen yazi: |%s|\n", str);

char * p1 = strchr(str, 'a');
char * p2 = strrchr(str, 'a');

if (!p1) {
printf("aranan karakter bulunamadi\n");
return 0;
printf("strrchr idx = %d\n", p2 -str);
}
}

----

int main(void)
{
char str[SIZE];

printf("bir yazi girin: ");
sgets(str);
printf("girilen yazi: |%s|\n", str);

char * p = strchr(str, '\0');
*p++ = '!';
*p = '\0';

printf("|%s|\n", str);

}

------

char * strrchr(const char * p,int c)
{
const char * pfound = NULL;
while (*p != '\0'){
if (*p == c){
++p
}

if (c == '\0')
return (char*)p;

return (char*)pfound;
}

}


---------
strstr : yazi içinde yazi arama

char *strstr(const char *p1, const char *p2);

int main(void)
{
char str[SIZE];
char key[SIZE];

printf("içinde arama yapılcak yaziyı giin: ");
sgets(str);
printf("[%s]\n", str);
printf("aranacak yaziyi girin: ");
sgets(key);
printf("%s\n", key);
char * p = strstr(str,key);
if (p == NULL){
printf("bulunamadi);
return 0;
}

printf("bulundu index = %d\n",p - ptr);
size_t len = strlen(key);

while (len--)
*p++ = '!';
printf("[%s]\n", str);
}







