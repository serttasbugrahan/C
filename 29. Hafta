//////////////////////////////////////////////////////// 1 . Ders ///////////////////////////////////////////////////////////////////

int get_max(int n, ...)
{
va_list args;
va_start(args, n);
int max;

for (int i = 0; i < n; ++i) {
int ival = va_args(args, int);
if (i == 0)
max = ival;
else if (ival > max)
max = ival
}

va_end(args);
return max;
}

int main(void)
{
int x = 10;
int y = 20;
int z = 15;

printf("max = %d\n", get_max(3, x, y,z));
}


------------------------------


void myprintf(const char* p, ...)
{
va_list args;
va_start(args, p);

while (*p) {
int c = toupper(*p);

if (c == 'I') {
printf("%d\n", va_args(args, int));
}
else if (c == 'U') {
printf("%u\n", va_args(args,unsigned int));
}
else if (c == 'L') {
printf("%ld\n", va_args(args, long));
}
if (c == 'S') {
printf("%d\n", va_args(args, const char *));
}
else if (c == 'F') {
printf("%f\n", va_args(args, double));
}
++p;
}

va_edn(args);
}


int main(void)
{
int x = 10;
unsigned int y = 3u;
long lval = 5;
char str[] = "murat";
double dval = 4.45;

myprintf("iULsF", x, y, lval, str, dval);
}


--------------------------------

char * strapp(const char* p, ...)
{
va_list arglist;
va_list args;

va_start(arglist, p);
va_copy(args, arglist);

size_t len = strlen(p) + 1;

const char *pstr;
while ((pstr = va_args(arglist, const char*)) != NULL) {
len += strlen(pstr);
}

va_end(arglist);
char *pd = (char *) malloc(len + 1);
if (!pd) 
return NULL;

strcpy(pd , p);
while ((pstr = va_args(arglist, const char*)) != NULL) {
strcat(pd ,pstr);
}
va_end(args);

return pd;


int main(void)
{
char s1[] = "cinar";
char s2[] = " gursay";

char *pd = strapp(s1, s2, " volkan ", " gundogdu", NULL);
printf(" (%s)\n", pd);

free(pd);
}

--------------------------

void func(const char* p, ...)
{
char buffer[1000];

va_list args;
va_start(args, p);
vsprintf(buffer, p, args);
}

int main()
{
int x = 10;
int y = 20;
double dval = 4.5;

func("%d %d %f\n", x, y, dval);
}

========================================================================















